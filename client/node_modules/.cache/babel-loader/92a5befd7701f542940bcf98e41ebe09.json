{"ast":null,"code":"import _slicedToArray from\"/Users/edgar/projects/minesweeper-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as React from'react';import moment from'moment';import{getScores}from'../../api/services/scoreService';import'./index.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LeaderBoard=function LeaderBoard(_ref){var setUpdatedBoard=_ref.setUpdatedBoard,updatedBoard=_ref.updatedBoard;var _React$useState=React.useState(moment().startOf('day').valueOf()),_React$useState2=_slicedToArray(_React$useState,2),dateRange=_React$useState2[0],setDateRange=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),scoresBeginner=_React$useState4[0],setScoresBeginner=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),scoresIntermediate=_React$useState6[0],setScoresIntermediate=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),scoresExpert=_React$useState8[0],setScoresExpert=_React$useState8[1];var _React$useState9=React.useState('today'),_React$useState10=_slicedToArray(_React$useState9,2),selectedRange=_React$useState10[0],setSelectedRange=_React$useState10[1];React.useEffect(function(){Promise.all([getScores(dateRange,1),getScores(dateRange,2),getScores(dateRange,3)]).then(function(scores){setScoresBeginner(scores[0].data);setScoresIntermediate(scores[1].data);setScoresExpert(scores[2].data);});setUpdatedBoard(false);},[dateRange,updatedBoard]);React.useEffect(function(){switch(selectedRange){case'7days':setDateRange(moment().subtract(7,'days').valueOf());break;case'30days':setDateRange(moment().subtract(30,'days').valueOf());break;case'allTime':setDateRange(0);break;case'today':default:setDateRange(moment().startOf('day').valueOf());break;}},[selectedRange,setDateRange]);return/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Current Leader Board\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-switcher\",children:[/*#__PURE__*/_jsx(\"button\",{className:selectedRange==='today'?'selected':'',onClick:function onClick(){return setSelectedRange('today');},children:\"Today\"}),/*#__PURE__*/_jsx(\"button\",{className:selectedRange==='7days'?'selected':'',onClick:function onClick(){return setSelectedRange('7days');},children:\"Last 7 Days\"}),/*#__PURE__*/_jsx(\"button\",{className:selectedRange==='30days'?'selected':'',onClick:function onClick(){return setSelectedRange('30days');},children:\"Last 30 Days\"}),/*#__PURE__*/_jsx(\"button\",{className:selectedRange==='allTime'?'selected':'',onClick:function onClick(){return setSelectedRange('allTime');},children:\"All Time\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-body\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Beginner\"}),scoresBeginner.length>0&&scoresBeginner.map(function(score,idx){return/*#__PURE__*/_jsxs(\"div\",{children:[idx+1,\". \",score.user,\" -- \",score.time,\" seconds\"]},idx);})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Intermediate\"}),scoresIntermediate.length>0&&scoresIntermediate.map(function(score,idx){return/*#__PURE__*/_jsxs(\"div\",{children:[idx+1,\". \",score.user,\" -- \",score.time,\" seconds\"]},idx);})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Expert\"}),scoresExpert.length>0&&scoresExpert.map(function(score,idx){return/*#__PURE__*/_jsxs(\"div\",{children:[idx+1,\". \",score.user,\" -- \",score.time,\" seconds\"]},idx);})]})]})]});};export default LeaderBoard;","map":{"version":3,"sources":["/Users/edgar/projects/minesweeper-react/client/src/components/LeaderBoard/index.js"],"names":["React","moment","getScores","LeaderBoard","setUpdatedBoard","updatedBoard","useState","startOf","valueOf","dateRange","setDateRange","scoresBeginner","setScoresBeginner","scoresIntermediate","setScoresIntermediate","scoresExpert","setScoresExpert","selectedRange","setSelectedRange","useEffect","Promise","all","then","scores","data","subtract","length","map","score","idx","user","time"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport moment from 'moment';\nimport { getScores } from '../../api/services/scoreService';\nimport './index.scss';\n\nconst LeaderBoard = ({ setUpdatedBoard, updatedBoard }) => {\n  const [dateRange, setDateRange] = React.useState(moment().startOf('day').valueOf());\n  const [scoresBeginner, setScoresBeginner] = React.useState([]);\n  const [scoresIntermediate, setScoresIntermediate] = React.useState([]);\n  const [scoresExpert, setScoresExpert] = React.useState([]);\n  const [selectedRange, setSelectedRange] = React.useState('today');\n\n  React.useEffect(() => {\n    Promise.all([getScores(dateRange, 1), getScores(dateRange, 2), getScores(dateRange, 3)])\n    .then((scores) => {\n      setScoresBeginner(scores[0].data);\n      setScoresIntermediate(scores[1].data);\n      setScoresExpert(scores[2].data);\n    });\n    setUpdatedBoard(false);\n  }, [dateRange, updatedBoard])\n\n  React.useEffect(() => {\n    switch (selectedRange) {\n      case '7days':\n        setDateRange(moment().subtract(7, 'days').valueOf());\n        break;\n      case '30days':\n        setDateRange(moment().subtract(30, 'days').valueOf());\n        break;\n      case 'allTime':\n        setDateRange(0);\n        break;\n      case 'today':\n      default:\n        setDateRange(moment().startOf('day').valueOf());\n        break;\n    }\n  }, [selectedRange, setDateRange])\n\n  return (\n    <div className=\"leaderboard-wrapper\">\n      <h2>Current Leader Board</h2>\n      <div className=\"leaderboard-switcher\">\n        <button className={selectedRange === 'today' ? 'selected' : ''} onClick={() => setSelectedRange('today')}>Today</button>\n        <button className={selectedRange === '7days' ? 'selected' : ''} onClick={() => setSelectedRange('7days')}>Last 7 Days</button>\n        <button className={selectedRange === '30days' ? 'selected' : ''} onClick={() => setSelectedRange('30days')}>Last 30 Days</button>\n        <button className={selectedRange === 'allTime' ? 'selected' : ''} onClick={() => setSelectedRange('allTime')}>All Time</button>\n      </div>\n      <div className=\"leaderboard-body\">\n        <div>\n          <h4>Beginner</h4>\n          {scoresBeginner.length > 0 && scoresBeginner.map((score, idx) => (\n            <div key={idx}>{idx + 1}. {score.user} -- {score.time} seconds</div>\n          ))}\n        </div>\n        <div>\n          <h4>Intermediate</h4>\n          {scoresIntermediate.length > 0 && scoresIntermediate.map((score, idx) => (\n            <div key={idx}>{idx + 1}. {score.user} -- {score.time} seconds</div>\n          ))}\n        </div>\n        <div>\n          <h4>Expert</h4>\n          {scoresExpert.length > 0 && scoresExpert.map((score, idx) => (\n            <div key={idx}>{idx + 1}. {score.user} -- {score.time} seconds</div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default LeaderBoard;\n"]},"metadata":{},"sourceType":"module"}