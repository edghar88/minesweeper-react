{"ast":null,"code":"const RevealCells = (cells, xCoord, yCoord, newSafeCells) => {\n  let toShow = [];\n  toShow.push(cells[xCoord][yCoord]);\n\n  while (toShow.length !== 0) {\n    let one = toShow.pop();\n    let i = one.x;\n    let j = one.y;\n\n    if (!one.revealed) {\n      newSafeCells--;\n      one.revealed = true;\n    }\n\n    if (one.value !== 0) {\n      break;\n    } // reveal adjacent cells\n\n\n    if (i > 0 && j > 0 && cells[i - 1][j - 1].value === 0 && !cells[i - 1][j - 1].revealed) {\n      toShow.push(cells[i - 1][j - 1]);\n    }\n\n    if (i < cells.length - 1 && j < cells[0].length - 1 && cells[i + 1][j + 1].value === 0 && !cells[i + 1][j + 1].revealed) {\n      toShow.push(cells[i + 1][j + 1]);\n    }\n\n    if (i > 0 && j < cells[0].length - 1 && cells[i - 1][j + 1].value === 0 && !cells[i - 1][j + 1].revealed) {\n      toShow.push(cells[i - 1][j + 1]);\n    }\n\n    if (i < cells.length - 1 && j > 0 && cells[i + 1][j - 1].value === 0 && !cells[i + 1][j - 1].revealed) {\n      toShow.push(cells[i + 1][j - 1]);\n    }\n\n    if (i > 0 && cells[i - 1][j].value === 0 && !cells[i - 1][j].revealed) {\n      toShow.push(cells[i - 1][j]);\n    }\n\n    if (j < cells[0].length - 1 && cells[i][j + 1].value === 0 && !cells[i][j + 1].revealed) {\n      toShow.push(cells[i][j + 1]);\n    }\n\n    if (i < cells.length - 1 && cells[i + 1][j].value === 0 && !cells[i + 1][j].revealed) {\n      toShow.push(cells[i + 1][j]);\n    }\n\n    if (j > 0 && cells[i][j - 1].value === 0 && !cells[i][j - 1].revealed) {\n      toShow.push(cells[i][j - 1]);\n    } // reveal\n\n\n    if (i > 0 && j > 0 && !cells[i - 1][j - 1].revealed) {\n      cells[i - 1][j - 1].revealed = true;\n      newSafeCells--;\n    }\n\n    if (j > 0 && !cells[i][j - 1].revealed) {\n      cells[i][j - 1].revealed = true;\n      newSafeCells--;\n    }\n\n    if (i < cells.length - 1 && j > 0 && !cells[i + 1][j - 1].revealed) {\n      cells[i + 1][j - 1].revealed = true;\n      newSafeCells--;\n    }\n\n    if (i > 0 && !cells[i - 1][j].revealed) {\n      cells[i - 1][j].revealed = true;\n      newSafeCells--;\n    }\n\n    if (i < cells.length - 1 && !cells[i + 1][j].revealed) {\n      cells[i + 1][j].revealed = true;\n      newSafeCells--;\n    }\n\n    if (i > 0 && j < cells[0].length - 1 && !cells[i - 1][j + 1].revealed) {\n      cells[i - 1][j + 1].revealed = true;\n      newSafeCells--;\n    }\n\n    if (j < cells[0].length - 1 && !cells[i][j + 1].revealed) {\n      cells[i][j + 1].revealed = true;\n      newSafeCells--;\n    }\n\n    if (i < cells.length - 1 && j < cells[0].length - 1 && !cells[i + 1][j + 1].revealed) {\n      cells[i + 1][j + 1].revealed = true;\n      newSafeCells--;\n    }\n  }\n\n  return {\n    cells,\n    newSafeCells\n  };\n};\n\n_c = RevealCells;\nexport default RevealCells;\n\nvar _c;\n\n$RefreshReg$(_c, \"RevealCells\");","map":{"version":3,"sources":["/Users/edgar/projects/minesweeper-react/client/src/utils/RevealCells.js"],"names":["RevealCells","cells","xCoord","yCoord","newSafeCells","toShow","push","length","one","pop","i","x","j","y","revealed","value"],"mappings":"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","sourcesContent":["const RevealCells = (cells, xCoord, yCoord, newSafeCells) => {\n  let toShow = [];\n  toShow.push(cells[xCoord][yCoord]);\n  while (toShow.length !== 0) {\n      let one = toShow.pop();\n      let i = one.x;\n      let j = one.y;\n      if (!one.revealed) {\n        newSafeCells--;\n        one.revealed = true;\n      }\n      if (one.value !== 0) {\n          break;\n      }\n\n      // reveal adjacent cells\n      if (i > 0 && j > 0 && cells[i - 1][j - 1].value === 0 && (!cells[i - 1][j - 1].revealed)) {\n        toShow.push(cells[i - 1][j - 1]);\n      }\n      if (i < cells.length - 1 && j < cells[0].length - 1 && cells[i + 1][j + 1].value === 0 && !cells[i + 1][j + 1].revealed) {\n        toShow.push(cells[i + 1][j + 1]);\n      }\n      if (i > 0 && j < cells[0].length - 1 && cells[i - 1][j + 1].value === 0 && !cells[i - 1][j + 1].revealed) {\n        toShow.push(cells[i - 1][j + 1]);\n      }\n      if (i < cells.length - 1 && j > 0 && cells[i + 1][j - 1].value === 0 && !cells[i + 1][j - 1].revealed) {\n        toShow.push(cells[i + 1][j - 1]);\n      }\n      if (i > 0 && cells[i - 1][j].value === 0 && !cells[i - 1][j].revealed) {\n        toShow.push(cells[i - 1][j]);\n      }\n      if (j < cells[0].length - 1 && cells[i][j + 1].value === 0 && !cells[i][j + 1].revealed) {\n        toShow.push(cells[i][j + 1]);\n      }\n      if (i < cells.length - 1 && cells[i + 1][j].value === 0 && !cells[i + 1][j].revealed) {\n        toShow.push(cells[i + 1][j]);\n      }\n      if (j > 0 && cells[i][j - 1].value === 0 && !cells[i][j - 1].revealed) {\n        toShow.push(cells[i][j - 1]);\n      }\n\n      // reveal\n      if (i > 0 && j > 0 && !cells[i - 1][j - 1].revealed) {\n        cells[i - 1][j - 1].revealed = true;\n        newSafeCells--;\n      }\n      if (j > 0 && !cells[i][j - 1].revealed) {\n        cells[i][j - 1].revealed = true;\n        newSafeCells--;\n      }\n  \n      if (i < cells.length - 1 && j > 0 && !cells[i + 1][j - 1].revealed) {\n        cells[i + 1][j - 1].revealed = true;\n        newSafeCells--;\n      }\n      if (i > 0 && !cells[i - 1][j].revealed) {\n        cells[i - 1][j].revealed = true;\n        newSafeCells--;\n      }\n      if (i < cells.length - 1 && !cells[i + 1][j].revealed) {\n        cells[i + 1][j].revealed = true;\n        newSafeCells--;\n      }\n      if (i > 0 && j < cells[0].length - 1 && !cells[i - 1][j + 1].revealed) {\n        cells[i - 1][j + 1].revealed = true;\n        newSafeCells--;\n      }  \n      if (j < cells[0].length - 1 && !cells[i][j + 1].revealed) {\n        cells[i][j + 1].revealed = true;\n        newSafeCells--;\n      }\n      if (i < cells.length - 1 && j < cells[0].length - 1 && !cells[i + 1][j + 1].revealed) {\n        cells[i + 1][j + 1].revealed = true;\n        newSafeCells--;\n      }\n  }\n\n  return {cells, newSafeCells}\n}\n\nexport default RevealCells;\n"]},"metadata":{},"sourceType":"module"}